(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(32),r=a.n(s),i=(a(97),a(2)),o=a(13),l=a(14),j=a(25),d=a(26),u=(a(98),a(11)),h=a(6),b=a.p+"static/media/ft-logo.0e4fff41.png",O=a(7),m=a(39),x=a.n(m),p=Object(l.a)((function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,c,n){return t.app.post("/signup",{username:e,password:a,email:c,team_id:n})},this.login=function(e,a){return t.app.post("/login",{username:e,password:a})},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.get("/isloggedin")},this.app=x.a.create({baseURL:"".concat("https://footicket.herokuapp.com/api","/auth"),withCredentials:!0})})),f=a(144),g=a(138),v=a(147),y=a(143),w=a(145),k=a(86),S=a(85),N=a(0),C=new p,T=function(e){var t=e.loggedUser,a=e.storeUser,n=Object(c.useState)(""),s=Object(h.a)(n,2),r=s[0],i=s[1];return Object(N.jsx)(f.a,{bg:"light",expand:"lg",children:Object(N.jsxs)(g.a,{fluid:!0,children:[Object(N.jsx)(f.a.Brand,{as:O.b,to:"/",children:Object(N.jsx)("img",{src:b,alt:"logo",style:{width:"35px"}})}),Object(N.jsx)(f.a.Toggle,{"aria-controls":"navbarScroll"}),Object(N.jsxs)(f.a.Collapse,{id:"navbarScroll",children:[Object(N.jsxs)(v.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"600px"},navbarScroll:!0,children:[Object(N.jsx)(y.a,{title:"Perfil",id:"navbarScrollingDropdown",children:t?Object(N.jsxs)(N.Fragment,{children:["STANDARD"===t.role?Object(N.jsx)(y.a.Item,{as:O.b,to:"/profile-user",children:"Mi perfil"}):Object(N.jsx)(y.a.Item,{as:O.b,to:"/profile-user-team",children:"Mi perfil"}),Object(N.jsx)(y.a.Divider,{}),Object(N.jsx)(y.a.Item,{as:"span",onClick:function(){C.logout().then((function(e){return a(null)})).catch((function(e){return console.log(e)}))},children:"Cerrar Sesion"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y.a.Item,{as:O.b,to:"/login",children:"Iniciar Sesion"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/signup",children:"Registro"})]})}),t&&"STANDARD"===t.role&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(y.a,{title:"Ligas",id:"navbarScrollingDropdown",children:[Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/england",children:"Premier League"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/spain",children:"LaLiga"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/italy",children:"Serie A"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/germany",children:"Bundesliga"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/france",children:"League 1"})]}),Object(N.jsx)(v.a.Link,{as:O.b,to:"/tickets",children:"Tickets"}),Object(N.jsx)(v.a.Link,{to:"#Tickets"})]}),t&&"TEAM"===t.role&&Object(N.jsx)(y.a,{title:"Mi equipo",id:"navbarScrollingDropdown",children:Object(N.jsx)(y.a.Item,{as:O.b,to:"/team/profile",children:"Partidos"})})]}),Object(N.jsxs)(w.a,{onSubmit:function(e){e.preventDefault()},className:"d-flex",children:[Object(N.jsx)(k.a,{type:"search",placeholder:"Busqueda por equipo",className:"me-2","aria-label":"Search",name:"teamName",value:r,onChange:function(e){i(e.currentTarget.value)}}),Object(N.jsx)(S.a,{variant:"",children:Object(N.jsx)(O.b,{to:"/matches/team/".concat(r),children:Object(N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(N.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})})]})]})]})})},I=a(8),U=a(139),M=a(87),L=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),c.authService.signup(c.state.username,c.state.password,c.state.email,c.state.team_id).then((function(e){c.props.storeUser(e.data),c.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},c.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;c.setState(Object(I.a)({},a,n))},c.state={username:"",email:"",password:"",team_id:""},c.authService=new p,c}return Object(l.a)(a,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(U.a,{children:Object(N.jsxs)(M.a,{md:{span:4,offset:4},children:[Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(w.a,{onSubmit:this.handleSubmit,children:[Object(N.jsx)("h2",{children:" Registrarse"}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"username",children:[Object(N.jsx)(w.a.Label,{children:"Nombre de Usuario"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text",placeholder:"Elige un nombre de usuario"})]}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"email",children:[Object(N.jsx)(w.a.Label,{children:"Correo electronico"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.email,name:"email",type:"text",placeholder:"ejemplo@gmail.com"})]}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"password",children:[Object(N.jsx)(w.a.Label,{children:"Contrase\xf1a"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password",placeholder:"Contrase\xf1a"})]}),Object(N.jsx)(S.a,{variant:"primary",type:"submit",children:"Registrarse"})]})]})})})}}]),a}(c.Component),F=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),c.authService.login(c.state.username,c.state.password).then((function(e){c.props.storeUser(e.data),c.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},c.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;c.setState(Object(I.a)({},a,n))},c.state={username:"",password:""},c.authService=new p,c}return Object(l.a)(a,[{key:"render",value:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(U.a,{children:Object(N.jsxs)(M.a,{md:{span:4,offset:4},children:[Object(N.jsx)("h2",{children:" Iniciar Sesion"}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(w.a,{onSubmit:this.handleSubmit,children:[Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"username",children:[Object(N.jsx)(w.a.Label,{children:"Nombre de Usuario"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text",placeholder:"Elige un nombre de usuario"})]}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"password",children:[Object(N.jsx)(w.a.Label,{children:"Contrase\xf1a"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password",placeholder:"*******"})]}),Object(N.jsx)(S.a,{variant:"primary",type:"submit",children:"Iniciar Sesi\xf3n"})]})]})})]})}}]),a}(c.Component),E=a(39),P=Object(l.a)((function e(){var t=this;Object(o.a)(this,e),this.getAllMatches=function(e){return t.axiosApp.get("/matches/league/".concat(e))},this.getTeamId=function(e){return t.axiosApp.get("/matches/team/".concat(e))},this.getTeamMatches=function(e){return t.axiosApp.get("/matches/team/matches/".concat(e))},this.checkMatch=function(e){return t.axiosApp.get("/team-profile/check-match/".concat(e))},this.createMatch=function(e){return t.axiosApp.post("/team-profile/create-match",e)},this.createTicket=function(e,a,c){return t.axiosApp.post("/tickets/create-ticket/".concat(e,"/").concat(a,"/").concat(c))},this.sendEmail=function(e){return t.axiosApp.post("/checkout/finish/".concat(e))},this.getAllTicketsMatches=function(){return t.axiosApp.get("/matches/get-matches")},this.getMatchInfo=function(e){return t.axiosApp.get("/matches/get-match-info/".concat(e))},this.axiosApp=E.create({baseURL:"https://footicket.herokuapp.com/api",withCredentials:!0})})),B=a(146),D=a(140);a(71);var A=function(e){var t=e.match,a=Object(c.useState)(0),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(0),o=Object(h.a)(i,2),l=o[0],j=o[1],d=new P;return Object(c.useEffect)((function(){d.checkMatch(t.fixture.id).then((function(e){r(e.data[0].capacity),j(e.data[0].price)})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(B.a,{style:{width:"18rem"},children:[Object(N.jsx)(B.a.Body,{children:Object(N.jsxs)(B.a.Title,{children:[Object(N.jsxs)("h3",{className:"vs",children:[" ",Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.home.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.home.name]}),Object(N.jsxs)("h3",{className:"vs",children:[" ",Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.away.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.away.name]})]})}),Object(N.jsx)(D.a,{className:"list-group-flush"}),Object(N.jsx)(B.a.Body,{children:0!==s?Object(N.jsxs)(B.a.Text,{children:[Object(N.jsxs)("h3",{className:"precio",children:["\u20ac",l]}),Object(N.jsx)("br",{}),Object(N.jsx)(B.a.Link,{children:Object(N.jsx)(O.b,{className:"button-details",to:{pathname:"/match/details",state:{match:t}},children:"Entradas"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("p",{className:"button-avisame",children:" No hay entradas disponibles "})]})})]})})},_=a(141),q=new P;var R=function(){var e,t=Object(c.useState)([]),a=Object(h.a)(t,2),n=a[0],s=a[1],r=Object(u.h)().country;return Object(c.useEffect)((function(){q.getAllMatches(r).then((function(e){s(e.data)})).catch((function(e){return console.log(e)}))}),[r]),0===n.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:Object(N.jsx)("img",{src:null===(e=n[0])||void 0===e?void 0:e.league.logo,alt:"League"})}),Object(N.jsx)("div",{className:"container",children:n.map((function(e){return Object(N.jsx)(A,{match:e})}))})]})},z=a(65),H=a(88),G=a(142),J=a(89),Y=a(73),K=a.n(Y),V=(a(128),a(90)),W=a(49),X=Object(V.a)("pk_test_51K6CRIH1ByOTHJYIK1GUeHbZBB9fDj0e6pgIqEMJzBCCAhBNTi5sAFS5Sp8o4wczaUvt0HkIVgt5lL7kE1HMiBXI00OYrBqhn6"),Z=function(e){console.log(e,"soy props");var t=Object(W.useStripe)(),a=Object(W.useElements)(),c=new P,n=function(){var n=Object(J.a)(K.a.mark((function n(r){var i,o,l,j,d;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,t.createPaymentMethod({type:"card",card:a.getElement(W.CardElement)});case 3:if(i=n.sent,o=i.error,l=i.paymentMethod,o){n.next=13;break}return j=l.id,n.next=10,x.a.post("".concat("https://footicket.herokuapp.com/api","/matches/checkout"),{id:j,amount:100*e.total});case 10:d=n.sent,d.data,c.createTicket(e.price,e.matchId,e.number).then((function(e){return console.log(e.data),c.sendEmail(e.data._id)})).then((function(e){s.push("/finish/".concat(e.data._id))})).catch((function(e){console.log(e)}));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=Object(u.f)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("form",{className:"form-control",onSubmit:n,children:[Object(N.jsx)(W.CardElement,{}),Object(N.jsx)("button",{className:"btn btn-success",id:"pay",type:"submit",children:"Pagar"})]})})};var Q=function(e){return Object(N.jsx)(W.Elements,{stripe:X,children:Object(N.jsx)(Z,Object(i.a)({},e))})};var $=function(e){var t=Object(u.g)().state.match,a=Object(c.useState)(0),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(0),o=Object(h.a)(i,2),l=o[0],j=o[1],d=Object(c.useState)(0),b=Object(h.a)(d,2),O=b[0],m=b[1],x=Object(c.useState)(""),p=Object(h.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(l*O),y=Object(h.a)(v,2),C=y[0],T=y[1],I=new P;Object(c.useEffect)((function(){I.checkMatch(t.fixture.id).then((function(e){r(e.data[0].capacity),j(e.data[0].price),g(e.data[0].matchId)})).catch((function(e){return console.log(e)}))}),[]);var U=function(e,t){"add"===t?(T(l*(O+1)),m(O+1)):m(0===O?0:Number(O)-1)};return Object(N.jsx)("div",{className:"contenedor",children:Object(N.jsxs)(B.a,{style:{width:"18rem"},children:[Object(N.jsxs)(B.a.Body,{children:[Object(N.jsxs)(B.a.Title,{className:"title-card",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.home.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.home.name]}),"vs",Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.away.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.away.name]})]}),Object(N.jsx)(B.a.Text,{})]}),Object(N.jsxs)(D.a,{className:"list-group-flush",children:[Object(N.jsx)(H.a,{children:Object(z.formatDate)(new Date(null===t||void 0===t?void 0:t.fixture.date))}),Object(N.jsx)(H.a,{children:null===t||void 0===t?void 0:t.league.round}),Object(N.jsx)(H.a,{children:null===t||void 0===t?void 0:t.fixture.venue.name}),Object(N.jsxs)(H.a,{children:["Precio: ",l]}),Object(N.jsxs)(H.a,{children:["\xdaltimas ",s," entradas disponibles"]})]}),Object(N.jsx)("div",{className:"contador",children:Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsx)(S.a,{onClick:function(e){return U(0,"remove")},variant:"outline-secondary",id:"button-addon1",children:"-"}),Object(N.jsx)(k.a,{"aria-label":"capacity","aria-describedby":"capacity",onChange:function(e){m(e.currentTarget.value)},value:Number(O),id:"button-addon1"}),Object(N.jsx)(S.a,{onClick:function(e){return U(0,"add")},variant:"outline-secondary",id:"button-addon1",children:"+"})]})}),Object(N.jsxs)("h3",{className:"price",children:[" Total: \u20ac",C," "]}),Object(N.jsx)(w.a.Control,{type:"text",placeholder:"Nombre del Titular de la tarjeta"}),Object(N.jsx)(Q,{price:C,matchId:f,number:O})]})})},ee=new P;var te=function(){var e=Object(u.h)().teamName,t=Object(c.useState)([]),a=Object(h.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){ee.getTeamId(e).then((function(e){return ee.getTeamMatches(e.data)})).then((function(e){s(e.data.response)})).catch((function(e){return console.log(e)}))}),[e]),0===n.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:" Proximos Partidos "}),Object(N.jsx)("div",{className:"container",children:n.map((function(e){return Object(N.jsx)(A,{match:e})}))})]})};var ae=function(e){var t,a,n,s,r,i,o,l=new P,j=Object(c.useState)(0),d=Object(h.a)(j,2),b=d[0],O=d[1],m=Object(c.useState)(0),x=Object(h.a)(m,2),p=x[0],f=x[1];Object(c.useEffect)((function(){var t;e.match.dbInfo&&(0!==(null===(t=e.match.dbInfo)||void 0===t?void 0:t.length)&&(O(e.match.dbInfo[0].capacity),f(e.match.dbInfo[0].price)))}),[e.match]);var g=function(t,a){O("add"===a?Number(b)+1:0===b?0:Number(b)-1),console.log(e.match.fixture.id)},v=Object(u.f)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(B.a,{style:{width:"18rem"},children:[Object(N.jsxs)(B.a.Body,{children:[Object(N.jsxs)(B.a.Title,{children:[Object(N.jsx)("img",{src:null===(t=e.match)||void 0===t?void 0:t.teams.home.logo,alt:"hola",style:{width:"20px"}}),null===(a=e.match)||void 0===a?void 0:a.teams.home.name," vs",Object(N.jsx)("img",{src:null===(n=e.match)||void 0===n?void 0:n.teams.away.logo,alt:"hola",style:{width:"20px"}}),null===(s=e.match)||void 0===s?void 0:s.teams.away.name]}),Object(N.jsx)(B.a.Text,{})]}),Object(N.jsxs)(D.a,{className:"list-group-flush",children:[Object(N.jsx)(H.a,{children:Object(z.formatDate)(new Date(null===(r=e.match)||void 0===r?void 0:r.fixture.date))}),Object(N.jsx)(H.a,{children:null===(i=e.match)||void 0===i?void 0:i.league.round}),Object(N.jsx)(H.a,{children:null===(o=e.match)||void 0===o?void 0:o.fixture.venue.name})]}),Object(N.jsx)(B.a.Body,{children:Object(N.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),l.checkMatch(e.match.fixture.id).then((function(t){0===t.data.length?(l.createMatch({capacity:b,price:p,matchId:e.match.fixture.id}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),v.push("/")):l.updateMatch({id:t.data[0]._id,price:p,capacity:b}).then((function(e){O(e.data.capacity),f(e.data.price),v.push("/")})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},children:[Object(N.jsx)("div",{className:"contador",children:Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsx)(S.a,{onClick:function(e){return g(0,"remove")},variant:"outline-secondary",id:"button-addon1",children:"-"}),Object(N.jsx)(k.a,{"aria-label":"capacity","aria-describedby":"capacity",onChange:function(e){O(e.currentTarget.value)},value:Number(b),id:"button-addon1"}),Object(N.jsx)(S.a,{onClick:function(e){return g(0,"add")},variant:"outline-secondary",id:"button-addon1",children:"+"})]})}),Object(N.jsxs)(G.a,{className:"mb-3",id:"ticketprice",children:[Object(N.jsx)(G.a.Text,{children:"\u20ac"}),Object(N.jsx)(k.a,{"aria-label":"price",value:Number(p),onChange:function(e){f(e.currentTarget.value)}})]}),Object(N.jsx)(S.a,{as:"input",id:"pay",type:"submit",value:"Enviar"})]})})]})})},ce=new P;var ne=function(e){var t=Object(c.useState)([]),a=Object(h.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){ce.getTeamMatches(e.loggedUser.team_id).then((function(e){var t=e.data.response;return t.forEach((function(e){ce.checkMatch(e.fixture.id).then((function(t){e.dbInfo=t.data})).catch((function(e){return console.log(e)}))})),s(t)})).catch((function(e){return console.log(e)}))}),[e.loggedUser.team_id]),0===n.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{className:"title",children:" Proximos Partidos "}),Object(N.jsx)("div",{className:"contenedor",children:n.map((function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ae,{match:e})})}))})]})},se=(a(129),a(68));var re=function(){return Object(N.jsxs)("footer",{class:"footer-distributed",children:[Object(N.jsxs)("div",{class:"footer-left",children:[Object(N.jsxs)("h3",{children:[Object(N.jsx)("img",{src:b,alt:"logo",className:"logo",style:{width:"35px"}}),"Foo",Object(N.jsx)("span",{children:"Ticket"})]}),Object(N.jsxs)("p",{class:"footer-links",children:[Object(N.jsx)(O.b,{as:O.b,to:"/login",children:"Iniciar Sesion"}),Object(N.jsx)(O.b,{as:O.b,to:"/signup",children:"Registrate"}),Object(N.jsx)(O.b,{as:O.b,to:"/league/england",children:"Premier League"}),Object(N.jsx)(O.b,{as:O.b,to:"/league/spain",children:"LaLiga"}),Object(N.jsx)(O.b,{as:O.b,to:"/league/italy",children:"Serie A"})]}),Object(N.jsx)("p",{class:"footer-company-name",children:"Footicket \xa9 2022"})]}),Object(N.jsxs)("div",{class:"footer-center",children:[Object(N.jsx)("div",{children:Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{children:"Pl. de Legazpi, 8 "})," 28045, Madrid"]})}),Object(N.jsx)("div",{children:Object(N.jsx)("p",{children:"+34.667.460.0552"})}),Object(N.jsx)("div",{children:Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:"mailto:support@company.com",children:"support@footicket.com"})})})]}),Object(N.jsxs)("div",{class:"footer-right",children:[Object(N.jsxs)("p",{class:"footer-company-about",children:[Object(N.jsx)("span",{children:"Sobre nosotros"}),"Footicket es una aplicaci\xf3n que simula la compra y venta de entradas en las principales ligas del mundo. El club elije el precio y la cantidad de entradas que decide poner a la venta"]}),Object(N.jsxs)("div",{class:"footer-icons",children:[Object(N.jsx)(O.b,{as:O.b,to:"#",children:Object(N.jsx)(se.a,{})}),Object(N.jsx)(O.b,{as:O.b,to:"#",children:Object(N.jsx)(se.c,{})}),Object(N.jsx)(O.b,{as:O.b,to:"#",children:Object(N.jsx)(se.b,{})})]})]})]})};a(130);var ie=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{class:"s006",children:Object(N.jsx)("form",{onSubmit:function(e){e.preventDefault()},type:"search",placeholder:"Busqueda por equipo",className:"me-2","aria-label":"Search",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:"Busca tu entrada por tu equipo favorito"}),Object(N.jsx)("div",{class:"inner-form",children:Object(N.jsxs)("div",{class:"input-field",children:[Object(N.jsx)("button",{class:"btn-search",children:Object(N.jsx)(O.b,{to:"/matches/team/".concat(a),children:Object(N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(N.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})}),Object(N.jsx)("input",{id:"search",type:"text",placeholder:"",name:"teamName",value:a,onChange:function(e){n(e.currentTarget.value)}})]})})]})})})})};var oe=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ie,{}),Object(N.jsx)(re,{})]})};var le=function(){return Object(N.jsx)("div",{className:"card-accepted",children:Object(N.jsxs)(B.a,{children:[Object(N.jsx)(B.a.Header,{children:"Compra Finalizada"}),Object(N.jsxs)(B.a.Body,{children:[Object(N.jsx)(B.a.Title,{children:"\xa1Gracias por confiar en FooTicket!"}),Object(N.jsx)(B.a.Text,{children:"En breve recibir\xe1s un mail con tus Tickets para el partido. O recibir\xe1s la informaci\xf3n adecuada de donde y en que horario retriar los tickets del partido."}),Object(N.jsx)(O.b,{className:"button-details",to:"/",children:"Inicio"})]})]})})};var je=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(h.a)(s,2),i=(r[0],r[1]),o=new P;return Object(c.useEffect)((function(){o.getAllTicketsMatches().then((function(e){console.log(e.data),n(e.data.allMatches),i(e.data.dbInfo)})).catch((function(e){return console.log(e)}))}),[]),0===a.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:" Partidos con entradas "}),Object(N.jsx)("div",{className:"container",children:a.map((function(e){return Object(N.jsx)(A,{match:e},e.fixture.id)}))})]})},de=Object(l.a)((function e(){var t=this;Object(o.a)(this,e),this.getProfile=function(e){return t.app.get("/".concat(e))},this.getTicketProfile=function(){return t.app.get("/UserTickets")},this.app=x.a.create({baseURL:"".concat("https://footicket.herokuapp.com/api","/profile-user"),withCredentials:!0})}));var ue=function(e){var t=Object(c.useState)({}),a=Object(h.a)(t,2),n=a[0],s=a[1],r=new P;return Object(c.useEffect)((function(){r.getMatchInfo(e.ticket.match_id).then((function(e){var t,a;s({home:null===(t=e.data.response[0].teams)||void 0===t?void 0:t.home.name,away:null===(a=e.data.response[0].teams)||void 0===a?void 0:a.away.name})})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("p",{children:["Partido: ",n.home," - ",n.away]}),Object(N.jsxs)("p",{children:["N\xfamero de entradas: ",e.ticket.numberOfTickets]}),Object(N.jsxs)("p",{children:["Precio de entradas: \u20ac",e.ticket.totalPrice]}),Object(N.jsx)("hr",{})]})},he=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={user:void 0,tickets:[],saved:!1,teams:{}},c.profileService=new de,c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.profileService.getProfile(this.props.loggedUser._id).then((function(t){return e.setState({user:t.data.user})})).catch((function(e){return console.log(e)})),this.profileService.getTicketProfile().then((function(t){console.log(t.data),e.setState({tickets:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e,t;return this.props.loggedUser?Object(N.jsx)(g.a,{className:"conteiner-profile",children:Object(N.jsx)(B.a,{style:{width:"18rem"},children:Object(N.jsxs)(B.a.Body,{children:[Object(N.jsx)(B.a.Title,{children:"Tu perfil"}),Object(N.jsxs)(B.a.Text,{children:["Nombre de usuario: ",null===(e=this.state.user)||void 0===e?void 0:e.username,Object(N.jsx)("hr",{}),"Email: ",null===(t=this.state.user)||void 0===t?void 0:t.email,Object(N.jsx)("hr",{}),Object(N.jsx)(B.a.Title,{children:"Tus compras: "}),this.state.tickets.map((function(e){return Object(N.jsx)(ue,{ticket:e})}))]})]})})}):Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}}]),a}(c.Component),be=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={user:void 0,tickets:[],saved:!1},c.profileService=new de,c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.profileService.getProfile(this.props.loggedUser._id).then((function(t){return e.setState({user:t.data.user})})).catch((function(e){return console.log(e)})),this.profileService.getTicketProfile().then((function(t){console.log(t.data),e.setState({tickets:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e;return this.props.loggedUser?Object(N.jsx)(g.a,{className:"conteiner-profile",children:Object(N.jsx)(B.a,{style:{width:"18rem"},children:Object(N.jsx)(B.a.Body,{children:Object(N.jsxs)(B.a.Text,{children:[Object(N.jsxs)("h4",{children:[" ",null===(e=this.state.user)||void 0===e?void 0:e.username]}),Object(N.jsx)("hr",{}),0!==this.state.tickets.length?this.state.tickets.map((function(e){console.log("holaaa",e.numberOfTickets);var t=e.numberOfTickets*e.totalPrice;return Object(N.jsxs)(N.Fragment,{children:["Tus ventas: ",Object(N.jsxs)("h4",{children:[e.numberOfTickets," "]}),Object(N.jsx)("p",{children:"Precio total de entradas vendidas:"}),Object(N.jsxs)("h4",{children:["\u20ac",t]})]})})):Object(N.jsx)("p",{children:"No hay ventas"})]})})})}):Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}}]),a}(c.Component),Oe=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).storeUser=function(e){c.setState({loggedUser:e})},c.state={loggedUser:void 0},c.authService=new p,c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authService.isloggedin().then((function(t){return e.storeUser(t.data)})).catch((function(t){return e.storeUser(null)}))}},{key:"render",value:function(){var e=this;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{storeUser:this.storeUser,loggedUser:this.state.loggedUser}),Object(N.jsx)("main",{children:Object(N.jsxs)(u.c,{children:[Object(N.jsx)(u.a,{path:"/",exact:!0,render:function(){return Object(N.jsx)(oe,{})}}),Object(N.jsx)(u.a,{path:"/signup",render:function(t){return Object(N.jsx)(L,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(N.jsx)(u.a,{path:"/login",render:function(t){return Object(N.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(N.jsx)(u.a,{path:"/tickets",render:function(e){return Object(N.jsx)(je,Object(i.a)({},e))}}),Object(N.jsx)(u.a,{path:"/league/:country",render:function(t){return Object(N.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(N.jsx)(u.a,{path:"/match/details",render:function(e){return Object(N.jsx)($,Object(i.a)({},e))}}),Object(N.jsx)(u.a,{path:"/matches/team/:teamName",render:function(e){return Object(N.jsx)(te,Object(i.a)({},e))}}),Object(N.jsx)(u.a,{path:"/team/profile",render:function(t){return Object(N.jsx)(ne,Object(i.a)({loggedUser:e.state.loggedUser},t))}}),Object(N.jsx)(u.a,{path:"/profile-user",render:function(t){return Object(N.jsx)(he,Object(i.a)({loggedUser:e.state.loggedUser},t))}}),Object(N.jsx)(u.a,{path:"/profile-user-team",render:function(t){return Object(N.jsx)(be,Object(i.a)({loggedUser:e.state.loggedUser},t))}}),Object(N.jsx)(u.a,{path:"/finish/:ticketId",render:function(e){return Object(N.jsx)(le,Object(i.a)({},e))}})]})})]})}}]),a}(c.Component),me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,148)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};a(131);r.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(O.a,{children:Object(N.jsx)(Oe,{})})}),document.getElementById("root")),me()},65:function(e,t){e.exports={formatDate:function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),c=e.getFullYear(),n=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[a,t,c].join("-")+" "+[n,s].join(":")+"h"}}},71:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[132,1,2]]]);
//# sourceMappingURL=main.72b0ff86.chunk.js.map