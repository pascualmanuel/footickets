(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(31),r=a.n(s),i=(a(95),a(2)),o=a(12),l=a(16),j=a(24),u=a(23),d=(a(96),a(9)),h=a(6),b=a.p+"static/media/ft-logo.0e4fff41.png",O=a(7),m=a(38),p=a.n(m),x=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,c,n){return t.app.post("/signup",{username:e,password:a,email:c,team_id:n})},this.login=function(e,a){return t.app.post("/login",{username:e,password:a})},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.get("/isloggedin")},this.app=p.a.create({baseURL:"".concat("https://footicket.herokuapp.com/api","/auth"),withCredentials:!0})},f=a(142),g=a(136),v=a(145),y=a(141),w=a(143),k=a(85),S=a(84),N=a(0),C=new x,T=function(e){var t=e.loggedUser,a=e.storeUser,n=Object(c.useState)(""),s=Object(h.a)(n,2),r=s[0],i=s[1];return Object(N.jsx)(f.a,{bg:"light",expand:"lg",children:Object(N.jsxs)(g.a,{fluid:!0,children:[Object(N.jsx)(f.a.Brand,{as:O.b,to:"/",children:Object(N.jsx)("img",{src:b,alt:"logo",style:{width:"35px"}})}),Object(N.jsx)(f.a.Toggle,{"aria-controls":"navbarScroll"}),Object(N.jsxs)(f.a.Collapse,{id:"navbarScroll",children:[Object(N.jsxs)(v.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"600px"},navbarScroll:!0,children:[Object(N.jsx)(y.a,{title:"Perfil",id:"navbarScrollingDropdown",children:t?Object(N.jsxs)(N.Fragment,{children:["STANDARD"===t.role?Object(N.jsx)(y.a.Item,{as:O.b,to:"/profile-user",children:"Mi perfil"}):Object(N.jsx)(y.a.Item,{as:O.b,to:"/profile-user-team",children:"Mi perfil"}),Object(N.jsx)(y.a.Divider,{}),Object(N.jsx)(y.a.Item,{as:"span",onClick:function(){C.logout().then((function(e){return a(null)})).catch((function(e){return console.log(e)}))},children:"Cerrar Sesion"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y.a.Item,{as:O.b,to:"/login",children:"Iniciar Sesion"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/signup",children:"Registro"})]})}),t&&"STANDARD"===t.role&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(y.a,{title:"Ligas",id:"navbarScrollingDropdown",children:[Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/england",children:"Premier League"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/spain",children:"LaLiga"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/italy",children:"Serie A"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/germany",children:"Bundesliga"}),Object(N.jsx)(y.a.Item,{as:O.b,to:"/league/france",children:"League 1"}),Object(N.jsx)(y.a.Divider,{})]}),Object(N.jsx)(v.a.Link,{as:O.b,to:"/tickets",children:"Tickets"}),Object(N.jsx)(v.a.Link,{to:"#Tickets"})]}),t&&"TEAM"===t.role&&Object(N.jsx)(y.a,{title:"Mi equipo",id:"navbarScrollingDropdown",children:Object(N.jsx)(y.a.Item,{as:O.b,to:"/team/profile",children:"Partidos"})})]}),Object(N.jsxs)(w.a,{onSubmit:function(e){e.preventDefault()},className:"d-flex",children:[Object(N.jsx)(k.a,{type:"search",placeholder:"Busqueda por equipo",className:"me-2","aria-label":"Search",name:"teamName",value:r,onChange:function(e){i(e.currentTarget.value)}}),Object(N.jsx)(S.a,{variant:"",children:Object(N.jsx)(O.b,{to:"/matches/team/".concat(r),children:Object(N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(N.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})})]})]})]})})},I=a(8),U=a(137),M=a(86),L=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),c.authService.signup(c.state.username,c.state.password,c.state.email,c.state.team_id).then((function(e){c.props.storeUser(e.data),c.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},c.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;c.setState(Object(I.a)({},a,n))},c.state={username:"",email:"",password:"",team_id:""},c.authService=new x,c}return Object(l.a)(a,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(U.a,{children:Object(N.jsxs)(M.a,{md:{span:4,offset:4},children:[Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(w.a,{onSubmit:this.handleSubmit,children:[Object(N.jsx)("h2",{children:" Registrarse"}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"username",children:[Object(N.jsx)(w.a.Label,{children:"Nombre de Usuario"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text",placeholder:"Elige un nombre de usuario"})]}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"email",children:[Object(N.jsx)(w.a.Label,{children:"Correo electronico"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.email,name:"email",type:"text",placeholder:"ejemplo@gmail.com"})]}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"password",children:[Object(N.jsx)(w.a.Label,{children:"Contrase\xf1a"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password",placeholder:"Contrase\xf1a"})]}),Object(N.jsx)(S.a,{variant:"primary",type:"submit",children:"Registrarse"})]})]})})})}}]),a}(c.Component),E=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),c.authService.login(c.state.username,c.state.password).then((function(e){c.props.storeUser(e.data),c.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},c.handleInputChange=function(e){var t=e.currentTarget,a=t.name,n=t.value;c.setState(Object(I.a)({},a,n))},c.state={username:"",password:""},c.authService=new x,c}return Object(l.a)(a,[{key:"render",value:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(U.a,{children:Object(N.jsxs)(M.a,{md:{span:4,offset:4},children:[Object(N.jsx)("h2",{children:" Iniciar Sesion"}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)(w.a,{onSubmit:this.handleSubmit,children:[Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"username",children:[Object(N.jsx)(w.a.Label,{children:"Nombre de Usuario"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text",placeholder:"Elige un nombre de usuario"})]}),Object(N.jsxs)(w.a.Group,{className:"mb-3",controlId:"password",children:[Object(N.jsx)(w.a.Label,{children:"Contrase\xf1a"}),Object(N.jsx)(w.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password",placeholder:"*******"})]}),Object(N.jsx)(S.a,{variant:"primary",type:"submit",children:"Iniciar Sesi\xf3n"})]})]})})]})}}]),a}(c.Component),F=a(38),B=function e(){var t=this;Object(o.a)(this,e),this.getAllMatches=function(e){return t.axiosApp.get("/matches/league/".concat(e))},this.getTeamId=function(e){return t.axiosApp.get("/matches/team/".concat(e))},this.getTeamMatches=function(e){return t.axiosApp.get("/matches/team/matches/".concat(e))},this.checkMatch=function(e){return t.axiosApp.get("/team-profile/check-match/".concat(e))},this.createMatch=function(e){return t.axiosApp.post("/team-profile/create-match",e)},this.createTicket=function(e,a,c){return t.axiosApp.post("/tickets/create-ticket/".concat(e,"/").concat(a,"/").concat(c))},this.sendEmail=function(e){return t.axiosApp.post("/checkout/finish/".concat(e))},this.getAllTicketsMatches=function(){return t.axiosApp.get("/matches/get-matches")},this.getMatchInfo=function(e){return t.axiosApp.get("/matches/get-match-info/".concat(e))},this.axiosApp=F.create({baseURL:"https://footicket.herokuapp.com/api",withCredentials:!0})},P=a(144),A=a(138);a(69);var D=function(e){var t=e.match,a=Object(c.useState)(0),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(0),o=Object(h.a)(i,2),l=o[0],j=o[1],u=new B;return Object(c.useEffect)((function(){u.checkMatch(t.fixture.id).then((function(e){r(e.data[0].capacity),j(e.data[0].price)})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.a,{style:{width:"18rem"},children:[Object(N.jsx)(P.a.Body,{children:Object(N.jsxs)(P.a.Title,{children:[Object(N.jsxs)("h3",{className:"vs",children:[" ",Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.home.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.home.name]}),Object(N.jsxs)("h3",{className:"vs",children:[" ",Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.away.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.away.name]})]})}),Object(N.jsx)(A.a,{className:"list-group-flush"}),Object(N.jsx)(P.a.Body,{children:0!==s?Object(N.jsxs)(P.a.Text,{children:[Object(N.jsxs)("h3",{className:"precio",children:["\u20ac",l]}),Object(N.jsx)("br",{}),Object(N.jsx)(P.a.Link,{children:Object(N.jsx)(O.b,{className:"button-details",to:{pathname:"/match/details",state:{match:t}},children:"Entradas"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{children:"Se el primero en enterarte"}),Object(N.jsx)("p",{className:"button-avisame",children:" Avisame "})]})})]})})},_=a(139),q=new B;var R=function(){var e,t=Object(c.useState)([]),a=Object(h.a)(t,2),n=a[0],s=a[1],r=Object(d.h)().country;return Object(c.useEffect)((function(){q.getAllMatches(r).then((function(e){s(e.data)})).catch((function(e){return console.log(e)}))}),[r]),0===n.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:Object(N.jsx)("img",{src:null===(e=n[0])||void 0===e?void 0:e.league.logo,alt:"League"})}),Object(N.jsx)("div",{className:"container",children:n.map((function(e){return Object(N.jsx)(D,{match:e})}))})]})},z=a(87),G=a(140),H=a(71),J=a.n(H),K=a(88),Y=(a(126),a(89)),V=a(47),W=Object(Y.a)("pk_test_51K6CRIH1ByOTHJYIK1GUeHbZBB9fDj0e6pgIqEMJzBCCAhBNTi5sAFS5Sp8o4wczaUvt0HkIVgt5lL7kE1HMiBXI00OYrBqhn6"),X=function(e){console.log(e,"soy props");var t=Object(V.useStripe)(),a=Object(V.useElements)(),c=new B,n=function(){var n=Object(K.a)(J.a.mark((function n(r){var i,o,l,j,u;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,t.createPaymentMethod({type:"card",card:a.getElement(V.CardElement)});case 3:if(i=n.sent,o=i.error,l=i.paymentMethod,o){n.next=13;break}return j=l.id,n.next=10,p.a.post("".concat("https://footicket.herokuapp.com/api","/matches/checkout"),{id:j,amount:100*e.total});case 10:u=n.sent,u.data,c.createTicket(e.price,e.matchId,e.number).then((function(e){return console.log(e.data),c.sendEmail(e.data._id)})).then((function(e){s.push("/finish/".concat(e.data._id))})).catch((function(e){console.log(e)}));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=Object(d.f)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("form",{className:"form-control",onSubmit:n,children:[Object(N.jsx)(V.CardElement,{}),Object(N.jsx)("button",{className:"btn btn-success",id:"pay",type:"submit",children:"Pagar"})]})})};var Z=function(e){return Object(N.jsx)(V.Elements,{stripe:W,children:Object(N.jsx)(X,Object(i.a)({},e))})};var Q=function(e){var t=Object(d.g)().state.match,a=Object(c.useState)(0),n=Object(h.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(0),o=Object(h.a)(i,2),l=o[0],j=o[1],u=Object(c.useState)(0),b=Object(h.a)(u,2),O=b[0],m=b[1],p=Object(c.useState)(""),x=Object(h.a)(p,2),f=x[0],g=x[1],v=Object(c.useState)(0),y=Object(h.a)(v,2),C=y[0],T=y[1],I=(Object(d.f)(),new B);Object(c.useEffect)((function(){I.checkMatch(t.fixture.id).then((function(e){r(e.data[0].capacity),j(e.data[0].price),g(e.data[0].matchId)})).catch((function(e){return console.log(e)}))}),[]);var U=function(e,t){m("add"===t?Number(O)+1:0===O?0:Number(O)-1),function(e,t){T(e*t)}(l,O)};return Object(N.jsx)("div",{className:"contenedor",children:Object(N.jsxs)(P.a,{style:{width:"18rem"},children:[Object(N.jsxs)(P.a.Body,{children:[Object(N.jsxs)(P.a.Title,{children:[Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.home.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.home.name," vs",Object(N.jsx)("img",{src:null===t||void 0===t?void 0:t.teams.away.logo,alt:"hola",style:{width:"20px"}}),null===t||void 0===t?void 0:t.teams.away.name]}),Object(N.jsx)(P.a.Text,{})]}),Object(N.jsxs)(A.a,{className:"list-group-flush",children:[Object(N.jsx)(z.a,{children:null===t||void 0===t?void 0:t.fixture.date}),Object(N.jsx)(z.a,{children:null===t||void 0===t?void 0:t.league.round}),Object(N.jsx)(z.a,{children:null===t||void 0===t?void 0:t.fixture.venue.name}),Object(N.jsxs)(z.a,{children:["Precio: ",l]}),Object(N.jsxs)(z.a,{children:["\xdaltimas ",s," entradas disponibles"]})]}),Object(N.jsx)("div",{className:"contador",children:Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsx)(S.a,{onClick:function(e){return U(0,"remove")},variant:"outline-secondary",id:"button-addon1",children:"-"}),Object(N.jsx)(k.a,{"aria-label":"capacity","aria-describedby":"capacity",onChange:function(e){m(e.currentTarget.value)},value:Number(O),id:"button-addon1"}),Object(N.jsx)(S.a,{onClick:function(e){return U(0,"add")},variant:"outline-secondary",id:"button-addon1",children:"+"})]})}),Object(N.jsxs)("h3",{className:"price",children:[" Total: \u20ac",C," "]}),Object(N.jsx)(w.a.Control,{type:"text",placeholder:"Nombre del Titular de la tarjeta"}),Object(N.jsx)(Z,{price:C,matchId:f,number:O})]})})},$=new B;var ee=function(){var e=Object(d.h)().teamName,t=Object(c.useState)([]),a=Object(h.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){$.getTeamId(e).then((function(e){return $.getTeamMatches(e.data)})).then((function(e){s(e.data.response)})).catch((function(e){return console.log(e)}))}),[e]),0===n.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:" Proximos Partidos "}),Object(N.jsx)("div",{className:"container",children:n.map((function(e){return Object(N.jsx)(D,{match:e})}))})]})};var te=function(e){var t,a,n,s,r,i,o,l=new B,j=Object(c.useState)(0),u=Object(h.a)(j,2),d=u[0],b=u[1],O=Object(c.useState)(0),m=Object(h.a)(O,2),p=m[0],x=m[1];Object(c.useEffect)((function(){var t;e.match.dbInfo&&(0!==(null===(t=e.match.dbInfo)||void 0===t?void 0:t.length)&&(b(e.match.dbInfo[0].capacity),x(e.match.dbInfo[0].price)))}),[e.match]);var f=function(t,a){b("add"===a?Number(d)+1:0===d?0:Number(d)-1),console.log(e.match.fixture.id)};return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.a,{style:{width:"18rem"},children:[Object(N.jsxs)(P.a.Body,{children:[Object(N.jsxs)(P.a.Title,{children:[Object(N.jsx)("img",{src:null===(t=e.match)||void 0===t?void 0:t.teams.home.logo,alt:"hola",style:{width:"20px"}}),null===(a=e.match)||void 0===a?void 0:a.teams.home.name," vs",Object(N.jsx)("img",{src:null===(n=e.match)||void 0===n?void 0:n.teams.away.logo,alt:"hola",style:{width:"20px"}}),null===(s=e.match)||void 0===s?void 0:s.teams.away.name]}),Object(N.jsx)(P.a.Text,{})]}),Object(N.jsxs)(A.a,{className:"list-group-flush",children:[Object(N.jsx)(z.a,{children:null===(r=e.match)||void 0===r?void 0:r.fixture.date}),Object(N.jsx)(z.a,{children:null===(i=e.match)||void 0===i?void 0:i.league.round}),Object(N.jsx)(z.a,{children:null===(o=e.match)||void 0===o?void 0:o.fixture.venue.name})]}),Object(N.jsx)(P.a.Body,{children:Object(N.jsx)(w.a,{onSubmit:function(t){t.preventDefault(),l.checkMatch(e.match.fixture.id).then((function(t){0===t.data.length?l.createMatch({capacity:d,price:p,matchId:e.match.fixture.id}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})):l.updateMatch({id:t.data[0]._id,price:p,capacity:d}).then((function(e){b(e.data.capacity),x(e.data.price)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},children:Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsx)(S.a,{onClick:function(e){return f(0,"remove")},variant:"outline-secondary",id:"button-addon1",children:"-"}),Object(N.jsx)(k.a,{"aria-label":"capacity","aria-describedby":"capacity",onChange:function(e){b(e.currentTarget.value)},value:Number(d),id:"button-addon1"}),Object(N.jsx)(S.a,{onClick:function(e){return f(0,"add")},variant:"outline-secondary",id:"button-addon1",children:"+"}),Object(N.jsxs)(G.a,{className:"mb-3",children:[Object(N.jsx)(G.a.Text,{children:"\u20ac"}),Object(N.jsx)(k.a,{"aria-label":"price",value:Number(p),onChange:function(e){x(e.currentTarget.value)}})]}),Object(N.jsx)(S.a,{as:"input",type:"submit",value:"Enviar"})]})})})]})})},ae=new B;var ce=function(e){var t=Object(c.useState)([]),a=Object(h.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){ae.getTeamMatches(e.loggedUser.team_id).then((function(e){var t=e.data.response;return t.forEach((function(e){ae.checkMatch(e.fixture.id).then((function(t){e.dbInfo=t.data})).catch((function(e){return console.log(e)}))})),s(t)})).catch((function(e){return console.log(e)}))}),[e.loggedUser.team_id]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:" Proximos Partidos "}),n.map((function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(te,{match:e})})}))]})};a(127);a(128);var ne=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{class:"s006",children:Object(N.jsx)("form",{onSubmit:function(e){e.preventDefault()},type:"search",placeholder:"Busqueda por equipo",className:"me-2","aria-label":"Search",children:Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("legend",{children:"Busca tu entrada por tu equipo favortio"}),Object(N.jsx)("div",{class:"inner-form",children:Object(N.jsxs)("div",{class:"input-field",children:[Object(N.jsx)("button",{class:"btn-search",children:Object(N.jsx)(O.b,{to:"/matches/team/".concat(a),children:Object(N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(N.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})}),Object(N.jsx)("input",{id:"search",type:"text",placeholder:"",name:"teamName",value:a,onChange:function(e){n(e.currentTarget.value)}})]})})]})})})})};var se=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ne,{})})};var re=function(){return Object(N.jsx)("div",{className:"card-accepted",children:Object(N.jsxs)(P.a,{children:[Object(N.jsx)(P.a.Header,{children:"Compra Finalizada"}),Object(N.jsxs)(P.a.Body,{children:[Object(N.jsx)(P.a.Title,{children:"\xa1Gracias por confiar en FooTicket!"}),Object(N.jsx)(P.a.Text,{children:"En breve recibir\xe1s un mail con tus Tickets para el partido. O recibir\xe1s la informaci\xf3n adecuada de donde y en que horario retriar los tickets del partido."}),Object(N.jsx)(O.b,{className:"button-details",to:"/",children:"Inicio"})]})]})})};var ie=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(h.a)(s,2),i=(r[0],r[1]),o=new B;return Object(c.useEffect)((function(){o.getAllTicketsMatches().then((function(e){console.log(e.data),n(e.data.allMatches),i(e.data.dbInfo)})).catch((function(e){return console.log(e)}))}),[]),0===a.length?Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:" Partidos con entradas "}),Object(N.jsx)("div",{className:"container",children:a.map((function(e){return Object(N.jsx)(D,{match:e},e.fixture.id)}))})]})},oe=function e(){var t=this;Object(o.a)(this,e),this.getProfile=function(e){return t.app.get("/".concat(e))},this.getTicketProfile=function(){return t.app.get("/UserTickets")},this.app=p.a.create({baseURL:"".concat("https://footicket.herokuapp.com/api","/profile-user"),withCredentials:!0})};var le=function(e){var t=Object(c.useState)({}),a=Object(h.a)(t,2),n=a[0],s=a[1],r=new B;return Object(c.useEffect)((function(){r.getMatchInfo(e.ticket.match_id).then((function(e){var t,a;s({home:null===(t=e.data.response[0].teams)||void 0===t?void 0:t.home.name,away:null===(a=e.data.response[0].teams)||void 0===a?void 0:a.away.name})})).catch((function(e){return console.log(e)}))}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("p",{children:["Partido: ",n.home," - ",n.away]}),Object(N.jsxs)("p",{children:["N\xfamero de entradas: ",e.ticket.numberOfTickets]}),Object(N.jsxs)("p",{children:["Precio de entradas: \u20ac",e.ticket.totalPrice]}),Object(N.jsx)("hr",{})]})},je=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={user:void 0,tickets:[],saved:!1,teams:{}},c.profileService=new oe,c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.profileService.getProfile(this.props.loggedUser._id).then((function(t){return e.setState({user:t.data.user})})).catch((function(e){return console.log(e)})),this.profileService.getTicketProfile().then((function(t){console.log(t.data),e.setState({tickets:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e,t;return this.props.loggedUser?Object(N.jsx)(g.a,{className:"conteiner-profile",children:Object(N.jsx)(P.a,{style:{width:"18rem"},children:Object(N.jsxs)(P.a.Body,{children:[Object(N.jsx)(P.a.Title,{children:"Tu perfil"}),Object(N.jsxs)(P.a.Text,{children:["Nombre de usuario: ",null===(e=this.state.user)||void 0===e?void 0:e.username,Object(N.jsx)("hr",{}),"Email: ",null===(t=this.state.user)||void 0===t?void 0:t.email,Object(N.jsx)("hr",{}),Object(N.jsx)(P.a.Title,{children:"Tus compras: "}),this.state.tickets.map((function(e){return Object(N.jsx)(le,{ticket:e})}))]})]})})}):Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}}]),a}(c.Component),ue=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).state={user:void 0,tickets:[],saved:!1},c.profileService=new oe,c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.profileService.getProfile(this.props.loggedUser._id).then((function(t){return e.setState({user:t.data.user})})).catch((function(e){return console.log(e)})),this.profileService.getTicketProfile().then((function(t){console.log(t.data),e.setState({tickets:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e;return this.props.loggedUser?Object(N.jsx)(g.a,{className:"conteiner-profile",children:Object(N.jsx)(P.a,{style:{width:"18rem"},children:Object(N.jsx)(P.a.Body,{children:Object(N.jsxs)(P.a.Text,{children:[Object(N.jsxs)("h4",{children:[" ",null===(e=this.state.user)||void 0===e?void 0:e.username]}),Object(N.jsx)("hr",{}),0!==this.state.tickets.length?this.state.tickets.map((function(e){console.log(e.numberOfTickets);var t=e.numberOfTickets*e.totalPrice;return Object(N.jsxs)(N.Fragment,{children:["Tus ventas: ",Object(N.jsxs)("h4",{children:[e.numberOfTickets," "]}),Object(N.jsx)("p",{children:"Precio total de entradas vendidas:"}),Object(N.jsxs)("h4",{children:["\u20ac",t]})]})})):Object(N.jsx)("p",{children:"No hay ventas"})]})})})}):Object(N.jsx)(_.a,{animation:"border",role:"status",id:"pluswrap",children:Object(N.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}}]),a}(c.Component),de=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var c;return Object(o.a)(this,a),(c=t.call(this,e)).storeUser=function(e){c.setState({loggedUser:e})},c.state={loggedUser:void 0},c.authService=new x,c}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.authService.isloggedin().then((function(t){return e.storeUser(t.data)})).catch((function(t){return e.storeUser(null)}))}},{key:"render",value:function(){var e=this;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{storeUser:this.storeUser,loggedUser:this.state.loggedUser}),Object(N.jsx)("main",{children:Object(N.jsxs)(d.c,{children:[Object(N.jsx)(d.a,{path:"/",exact:!0,render:function(){return Object(N.jsx)(se,{})}}),Object(N.jsx)(d.a,{path:"/signup",render:function(t){return Object(N.jsx)(L,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(N.jsx)(d.a,{path:"/login",render:function(t){return Object(N.jsx)(E,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(N.jsx)(d.a,{path:"/tickets",render:function(e){return Object(N.jsx)(ie,Object(i.a)({},e))}}),Object(N.jsx)(d.a,{path:"/league/:country",render:function(t){return Object(N.jsx)(R,Object(i.a)(Object(i.a)({},t),{},{storeUser:e.storeUser}))}}),Object(N.jsx)(d.a,{path:"/match/details",render:function(e){return Object(N.jsx)(Q,Object(i.a)({},e))}}),Object(N.jsx)(d.a,{path:"/matches/team/:teamName",render:function(e){return Object(N.jsx)(ee,Object(i.a)({},e))}}),Object(N.jsx)(d.a,{path:"/team/profile",render:function(t){return Object(N.jsx)(ce,Object(i.a)({loggedUser:e.state.loggedUser},t))}}),Object(N.jsx)(d.a,{path:"/profile-user",render:function(t){return Object(N.jsx)(je,Object(i.a)({loggedUser:e.state.loggedUser},t))}}),Object(N.jsx)(d.a,{path:"/profile-user-team",render:function(t){return Object(N.jsx)(ue,Object(i.a)({loggedUser:e.state.loggedUser},t))}}),Object(N.jsx)(d.a,{path:"/finish/:ticketId",render:function(e){return Object(N.jsx)(re,Object(i.a)({},e))}})]})})]})}}]),a}(c.Component),he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,146)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};a(129);r.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(O.a,{children:Object(N.jsx)(de,{})})}),document.getElementById("root")),he()},69:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[130,1,2]]]);
//# sourceMappingURL=main.793fe004.chunk.js.map